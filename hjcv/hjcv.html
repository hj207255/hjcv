<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>胡杰的个人简历</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="//at.alicdn.com/t/font_775211_ngth2p8k5l9.js"></script>
    <style type="text/css">
        .icon {
            width: 1em; height: 1em;
            vertical-align: -0.15em;
            fill: currentColor;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div class="site-welcome" id="site-welcome">
        <div class="loading"></div>
    </div>
    <div class="top-nav-bar clearfix" id="top-nav-bar">
        <a href="#" class="logo">
            <span class="rs">RS</span><span class="card">card</span>
        </a>
        <nav class="menu">
            <ul>
                <li><a href="#aboutme">关于</a></li>
                <li><a href="#skill">技能</a></li>
                <li>
                    <a href="#works">作品</a>
                    <ul class="works-menu">
                        <li>作品1</li>
                        <li>作品2</li>
                        <li>作品3</li>
                    </ul>
                </li>
                <li>
                    <a href="#blogs">博客</a>
                    <ul class="works-menu">
                        <li>博客1</li>
                        <li>博客2</li>
                        <li>博客3</li>
                    </ul>
                </li>
                <li><a href="#">日历</a></li>
                <li><a href="#">联系方式</a></li>
                <li><a href="#">其它</a></li>
            </ul>
        </nav>
    </div>
    <div class="banner">
        <div class="mask"></div>
    </div>
    <main>
        <div date-x class="user-card clearfix" id="aboutme">
            <div class="user-card-subject clearfix">
                <div class="picture"><img src="images/avatar.jpg" alt=""></div>
                <div class="introduction clearfix">
                    <span class="welcome">
                        Hello
                        <span class="triangle"></span>
                    </span>
                    <h1>胡杰</h1>
                    <p>饥人谷学员</p>
                    <hr>
                    <dl>
                        <dt>年龄</dt>
                        <dd>24</dd>
                        <dt>所在城市</dt>
                        <dd>北京</dd>
                        <dt>邮箱</dt>
                        <dd>2540991545@qq.com</dd>
                        <dt>手机</dt>
                        <dd>18848957028</dd>
                    </dl>
                </div>
            </div>
            <div class="user-card-social">
                <a href="#">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-weibiaoti-"></use>
                    </svg>
                </a>
                <a href="#">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-weibo"></use>
                    </svg>
                </a>
                <a href="#">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-tuite"></use>
                    </svg>
                </a>
                <a href="#">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-icongithub"></use>
                    </svg>
                </a>
            </div>
        </div>
        <p class="download-cv-wrapper">
            <a href="#" class="download-cv" download>下载 PDF 简历</a>
        </p>
        <p class="personal-profile">
            <span>胡杰，饥人谷学员，前端课程学习者，现在在 饥人谷 学习前端课程。</span><br>
            <span>技能：xxx，xxx，xxx 开发</span>
        </p>
        <div date-x class="personal-skills" id="skill">
            <h2>技能</h2>
            <div class="personal-skills-bar clearfix">
                <ol class="clearfix">
                    <li>WordPress</li>
                    <li>HTML & CSS</li>
                    <li>JavaScript</li>
                    <li>PHP & MySQL</li>
                    <li>Drupal</li>
                    <li>Photoshop</li>
                </ol>
            </div>
        </div>
        <div date-x class="portfolio" id="works">
            <h2>作品集</h2>
            <nav class="portfolio-nav">
                <ul class="portfolio-all clearfix">
                    <li id="portfolio-1">所有</li>
                    <li id="portfolio-2">原生JS & CSS</li>
                    <li id="portfolio-3">框架</li>
                </ul>
                <div class="portfolio-all-bar">
                    <span class="bar portfolio-nav-1" id="bar"></span>
                </div>
            </nav>
            <div class="job">
                <div class="big">
                    <img src="images/1.jpg" alt="作品1">
                </div>
                <div class="small-1">
                    <img src="images/2.jpg" alt="作品2">
                </div>
                <div class="small-2">
                    <img src="images/3.jpg" alt="作品3">
                </div>
            </div>
        </div>
    </main>





    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/16.3.5/Tween.min.js"></script>
    <script>
        document.getElementById("portfolio-1").onclick=function () {
            document.getElementById("bar").className="bar portfolio-nav-1";
        };
        document.getElementById("portfolio-2").onclick=function () {
            document.getElementById("bar").className="bar portfolio-nav-2";
        };
        document.getElementById("portfolio-3").onclick=function () {
            document.getElementById("bar").className="bar portfolio-nav-3";
        };
        setTimeout(function () {//设置定时器
            document.getElementById("site-welcome").classList.add("active");
        },1000);

        setTimeout(function () {
            yyy();
        },1000);

        let dateTags=document.querySelectorAll('[date-x]');
        for (let i=0;i<dateTags.length;i++){
            dateTags[i].classList.add("move");
        }
        window.onscroll=function () {
            if (window.scrollY!=0){
                document.getElementById("top-nav-bar").classList.add("gundong");
            }else if (window.scrollY==0){
                document.getElementById("top-nav-bar").classList.remove("gundong");
            }
            yyy();

        };

        function yyy(){
                let dateTags=document.querySelectorAll('[date-x]');
                let minIndex=0;
                for (let i=0;i<dateTags.length;i++){
                    if (Math.abs(dateTags[i].offsetTop-window.scrollY)<Math.abs(dateTags[minIndex].offsetTop-window.scrollY)){
                        minIndex=i;
                    }
                }
                dateTags[minIndex].classList.remove("move");
                let id=dateTags[minIndex].id;
                let a=document.querySelector('a[href="#'+id+'"]');
                let li=a.parentNode;
                let lis=li.parentNode.children;
                for (let i=0;i<lis.length;i++){
                    lis[i].classList.remove("scrollAct");
                }
                li.classList.add("scrollAct");
        }



        let liTags=document.querySelectorAll(".top-nav-bar>nav>ul>li");
        for (let i=0;i<liTags.length;i++){
            liTags[i].onmouseenter=function (x) {
                x.currentTarget.classList.add('active');
            };
            liTags[i].onmouseleave=function (x) {
                x.currentTarget.classList.remove('active');
            };
        }


        let aTags=document.querySelectorAll(".top-nav-bar>nav>ul>li>a");
        for (let i=0;i<aTags.length;i++){
            aTags[i].onclick=function (x) {
                x.preventDefault();
                let a=x.currentTarget;
                let href=a.getAttribute("href");
                let ele=document.querySelector(href);
                let top=ele.offsetTop;
                //window.scrollTo(0,top-70);

                let currentTop=window.scrollY;
                let targetTop=top;
                let s=Math.abs(targetTop-currentTop);
                /*******************************/
                function animate(time) {
                    requestAnimationFrame(animate);
                    TWEEN.update(time);
                }
                requestAnimationFrame(animate);
                var coords = { y: currentTop};
                var tween = new TWEEN.Tween(coords)
                    .to({ y: targetTop-70}, (s/100)*100)
                    .easing(TWEEN.Easing.Quadratic.InOut)
                    .onUpdate(function() {
                        window.scrollTo(0,coords.y);
                    })
                    .start();
                /*******************************/
            }
        }

    </script>
</body>
</html>